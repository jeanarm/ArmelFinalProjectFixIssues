<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<style>
  .cont{
  margin-bottom: 15rem;
  margin-top: 5rem;
  }

</style>
</head>
<body>
<div class="container">
  <div class="row">
    <%= search_form_for @search, class:"form-inline md-form mr-auto mb-4" do |f| %>  
    <%= f.search_field :name_cont, class:"form-control mr-sm-2", placeholder:"Search" %>
    <%= f.submit class:"btn btn-outline-success my-2 my-sm-0" %>
    <% end %>
  </div>
  <div class="row cont">
      <table class="table" style="width:20rem;">
      <thead>
        <tr>
         <th scope="col">Users</th>
         <th scope="col">Role</th>
         <th scope="col">Chat</th>
        </tr>
      </thead>
      <tbody>
       <% @users.each do |user| %> 
        <tr>
          <% if user.id != current_user.id %>
          <th scope="col"><%= user.name %></th>
          <th scope="col"><%= user.user_type %></th>
          <td><%= link_to 'Start conversation', conversations_path(sender_id: current_user.id, recipient_id: user.id), method: :post, class:"btn btn-outline-primary my-2 my-sm-0" %></td>
        </tr>
        <% end %>
        <% end %>
      </tbody>
      </table>
  </div>
  <div class="row">
    <%= paginate @users%>
  </div>
</div>
</body>
</html>

